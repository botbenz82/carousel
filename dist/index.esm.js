import n,{useState as t,useRef as e,useEffect as r}from"react";import{useDrag as o}from"react-use-gesture";import i from"styled-components";var a=function(){return a=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n},a.apply(this,arguments)};function c(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n}"function"==typeof SuppressedError&&SuppressedError;var u,l,s,f,p,d,m=i.div(u||(u=c(["\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n"],["\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n"]))),v=i.div(l||(l=c(["\n  display: flex;\n  transition: 0.3s;\n"],["\n  display: flex;\n  transition: 0.3s;\n"]))),h=i.div(s||(s=c(["\n  flex: 0 0 auto;\n  width: 100%;\n"],["\n  flex: 0 0 auto;\n  width: 100%;\n"]))),y=i.button(f||(f=c(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 24px;\n  border: none;\n  cursor: pointer;\n  z-index: 1;\n"],["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 24px;\n  border: none;\n  cursor: pointer;\n  z-index: 1;\n"]))),x=i(y)(p||(p=c(["\n  left: 10px;\n"],["\n  left: 10px;\n"]))),b=i(y)(d||(d=c(["\n  right: 10px;\n"],["\n  right: 10px;\n"]))),w=function(i){var c=i.isInfinite,u=i.children,l=t(c?u.length:0),s=l[0],f=l[1],p=t(!1),d=p[0],y=p[1],w=t(!1),g=w[0],E=w[1],k=e(null),M=t(0),O=M[0],T=M[1],j=u.length,z=300,P=Math.floor(j/2);r((function(){var n;T((null===(n=k.current)||void 0===n?void 0:n.offsetWidth)||0)}),[]),r((function(){if(d){if(0===s){var n=setTimeout((function(){y(!1),f(j)}),z);return function(){return clearTimeout(n)}}if(s===2*j){var t=setTimeout((function(){y(!1),f(j)}),z);return function(){return clearTimeout(t)}}}else f(c?s%j+j:s%j)}),[s,d,j,z]);var W=o((function(n){var t=n.down,e=n.movement[0],r=n.velocity,o=n.direction[0];if(t){var i=-s*O+e;k.current&&(k.current.style.transition="none",k.current.style.transform="translateX(".concat(i,"px)"))}else{var a=Math.min(P,Math.round(Math.abs(e/O)*r)),u=s-Math.round(e/O)-a*(o>0?1:-1);c||(u<0?u=0:u>=j&&(u=j-1)),f(u),y(!0)}E(t)})),C=-s*O;return r((function(){!g&&k.current&&(k.current.style.transition=d?"".concat(z,"ms"):"none",k.current.style.transform="translateX(".concat(C,"px)"))}),[g,C,d,z]),n.createElement(m,null,n.createElement(x,{onClick:function(){d||(c||s>0)&&(y(!0),f((function(n){return n-1})))}},"Prev"),n.createElement(v,a({ref:k,onTransitionEnd:function(){y(!1),(0===s||s===2*j)&&f(j)}},W()),c&&u.map((function(t,e){return n.createElement(h,{key:"clone-prev-".concat(e),style:{minWidth:"100%"}},t)})),u.map((function(t,e){return n.createElement(h,{key:e,style:{minWidth:"100%"}},t)})),c&&u.map((function(t,e){return n.createElement(h,{key:"clone-next-".concat(e),style:{minWidth:"100%"}},t)}))),n.createElement(b,{onClick:function(){(c||s<j-1)&&(y(!0),f((function(n){return n+1})))}},"Next"))};export{w as Carousel};
//# sourceMappingURL=index.esm.js.map
